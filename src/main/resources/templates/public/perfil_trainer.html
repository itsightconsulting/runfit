<html lang="en" id="extr-page"
      xmlns:th="http://www.thymeleaf.org"
      th:with="version = ${#servletContext.getAttribute('version')}">
<head>
  <title>Perfil trainer específico | Fitness | Runfit</title>
  <th:block th:insert="html-commons/p/meta :: fg-meta"></th:block>
  <th:block th:insert="html-commons/p/css  :: fg-css"></th:block>
  <style>
      .rf-color{
        color: #a8fa00 !important;
      }

      .glyphicon-chevron-left:before{
        content: none !important;
      }

      .glyphicon-chevron-right:before{
          content: none !important;
      }

  </style>
</head>
  <body>
    <nav th:replace="html-commons/p/header :: fg-header"></nav>
    <div th:replace="html-commons/reu-login :: fg-login"></div>
    <div id="wrapper">
      <div class="section banner home">
        <div class="bg-image"><img class="banner-home" th:src="@{/img/public/trainers-shadow.jpg}+'?'+${version}"/></div>
      </div>
      <section class="trainers-form">
        <div class="row">
          <div class="container">
            <div class="col-md-5">
              <div class="avatar-form">
                <div class="avatar-form-content" id="ImagenPerfil"><img src="https://media1.tenor.com/images/b18603537d3dbdd776f2907e3187a5c4/tenor.gif?itemid=11580546" style="max-height: 100% !important;height: 100%"/></div>
              </div>
              <fieldset class="rating hidden">
                <input id="star5" type="radio" name="rating" value="5"/>
                <label class="full" for="star5" title="Awesome - 5 stars"></label>
                <input id="star4half" type="radio" name="rating" value="4 and a half"/>
                <label class="half" for="star4half" title="Pretty good - 4.5 stars"></label>
                <input id="star4" type="radio" name="rating" value="4"/>
                <label class="full" for="star4" title="Pretty good - 4 stars"></label>
                <input id="star3half" type="radio" name="rating" value="3 and a half"/>
                <label class="half" for="star3half" title="Meh - 3.5 stars"></label>
                <input id="star3" type="radio" name="rating" value="3"/>
                <label class="full" for="star3" title="Meh - 3 stars"></label>
                <input id="star2half" type="radio" name="rating" value="2 and a half"/>
                <label class="half" for="star2half" title="Kinda bad - 2.5 stars"></label>
                <input id="star2" type="radio" name="rating" value="2"/>
                <label class="full" for="star2" title="Kinda bad - 2 stars"></label>
                <input id="star1half" type="radio" name="rating" value="1 and a half"/>
                <label class="half" for="star1half" title="Meh - 1.5 stars"></label>
                <input id="star1" type="radio" name="rating" value="1"/>
                <label class="full" for="star1" title="Sucks big time - 1 star"></label>
                <input id="starhalf" type="radio" name="rating" value="half"/>
                <label class="half" for="starhalf" title="Sucks big time - 0.5 stars"></label>
              </fieldset>
              <p class="valoration hidden">43 <span>(21 valoraciones)</span></p>
            </div>
            <div class="col-md-7">
              <ul class="nav nav-tabs">
                <li class="active"><a data-toggle="tab" href="#about"><span>ACERCA DE MÍ</span></a></li>
                <li><a data-toggle="tab" href="#contact"><span>CONTACTO</span></a></li>
                <li><a data-toggle="tab" href="#service"><span>SERVICIOS</span></a></li>
              </ul>
              <div class="tab-content">
                <div class="tab-pane fade in active" id="about">
                  <form>
                    <div class="form-group">
                      <label>NOMBRE Y APELLIDOS</label>
                      <p id="NombreFull"></p>
                    </div>
                    <div class="form-group">
                      <label>ESPECIALIDAD</label>
                      <p id="Especialidad"></p>
                    </div>
                    <div class="form-group">
                      <label>ELIGE DEPORTE O ACTIVIDADES QUE REALIZAS</label>
                      <p id="Disciplina"></p>
                    </div>
                    <div class="form-group">
                      <label>ACERCA DE MI</label>
                      <p id="Acerca"></p>
                    </div>
                    <div class="form-group">
                      <label>IDIOMAS QUE DOMINO</label>
                      <p id="Idiomas"></p>
                    </div>
                    <div class="form-group">
                      <label>ESTUDIOS Y CERTIFICACIONES</label>
                      <ul id="Estudios" class="list-description">
                      </ul>
                    </div>
                    <div class="form-group">
                      <label>MÉTODO DE TRABAJO</label>
                      <p id="MetodoTrabajo"></p>
                    </div>
                    <div class="form-group">
                      <label>EXPERIENCIA LABORAL</label>
                      <ul id="Experiencias" class="list-description">
                      </ul>
                      <div class="form-group">
                        <label>RESULTADOS OBTENIDOS COMO PROFESIONAL</label>
                        <ul id="Resultados" class="list-description">
                        </ul>
                      </div>
                      <div class="form-group">
                        <label>SELECCIONA EL NIVEL DE RENDIMIENTO DE LAS PERSONAS QUE ASESORAS</label>
                        <ul id="Niveles" class="list-description">
                        </ul>
                      </div>
                      <div class="form-group">
                        <label>CENTRO DE TRABAJO</label>
                        <p id="CentroTrabajo"></p>
                      </div>
                      <div class="form-group hidden" id="lblRangoMapa">
                          <label>RANGO DE ATENCIÓN PRESENCIAL</label>
                          <div class="map" id="map"></div>
                      </div>
                      <div class="form-group">
                        <label>ESPECIALIDADES QUE DOMINO</label>
                        <ul id="Especialidades" class="list-description">
                        </ul>
                      </div>
                      <div class="form-group">
                        <label>FORMA DE TRABAJO</label>
                        <ul id="FormasTrabajo" class="list-description">
                        </ul>
                      </div>
                      <div class="form-group" id="dvHorario">
                          <label>HORARIO LABORAL</label>
                          <p id="Horario">
                      </div>
                      <div class="form-group hidden" id="lblGaleriaFotos">
                        <label>GALERÍA DE FOTOS</label>
                        <div class="row">
                          <div class="col-md-12" id="ImgsGaleria">
                          </div>
                        </div>
                      </div>
                      <div class="form-group hidden" id="lblRedes">
                          <label>REDES SOCIALES</label>
                      </div>
                      <div class="form-group rs hidden" id="RsFb">
                          <div class="col-xs-1 no_padding"><img th:src="@{/img/public/fb.png} +'?'+ ${version}"></div>
                          <div class="col-xs-11 no_padding">
                              <a href="#" target="_blank">FB</a>
                          </div>
                      </div>
                      <div class="form-group rs hidden" id="RsIn">
                          <div class="col-xs-1 no_padding"><img th:src="@{/img/public/ins.png} +'?'+ ${version}"></div>
                          <div class="col-xs-11 no_padding">
                              <a href="#" target="_blank">INS</a>
                          </div>
                      </div>
                      <div class="form-group rs hidden" id="RsYo">
                          <div class="col-xs-1 no_padding"><img th:src="@{/img/public/youtube.png} +'?'+ ${version}"></div>
                          <div class="col-xs-11 no_padding">
                              <a href="#" target="_blank">Y2</a>
                          </div>
                      </div>
                      <hr>
                      <div th:if="${porAprobar}" class="form-group div-aprobacion">
                          <input id="HshTrainerId" type="hidden" th:value="${hshTrainerId}">
                          <button class="btn btn-default btn-black" id="btnAprobarTrainer"><i class="fa fa-check"></i>Aprobar</button>
                          <button class="btn btn-default btn-white" id="btnAbrirCajaNotificacion">Notificar corrección</button>
                          <div class="hidden" id="SeccionCorreccion">
                              <textarea id="Obs" class="form-control" placeholder="Escribir los puntos a modificar" style="margin-bottom: 15px"></textarea>
                              <div style="text-align: right">
                                <a href="javascript:void(0)" onclick="enviarInfoACorregir()" class="btn btn-success" style="background-color: #303030;border: none;">
                                 <i class="fa fa-fw fa-paper-plane"></i>ENVIAR</a>
                              </div>
                          </div>

                      </div>
                    </div>
                  </form>
                </div>
                <div class="tab-pane fade" id="contact">
                      <form id="frm_contacto">
                          <h1 class="title-form">COMPÁRTENOS TUS DATOS PARA CONTACTARNOS LO ANTES POSIBLE</h1>
                          <div class="form-group">
                              <div class="pad-right-middle">
                                  <label>NOMBRE COMPLETO<span class="obligatorio">*</span></label>
                                  <input id="Nombre" name="Nombre" class="form-control" type="text">
                              </div>
                          </div>
                          <div class="form-group">
                              <label>¿CUÁL ES TU SEXO?</label>
                              <ul class="checks">
                                  <li>
                                      <div class="chk-content">Mujer
                                          <input name="Sexo" type="radio" value="2" checked="checked"><span class="checkmark"></span>
                                      </div>
                                  </li>
                                  <li>
                                      <div class="chk-content">Hombre
                                          <input name="Sexo" type="radio" value="1"><span class="checkmark"></span>
                                      </div>
                                  </li>
                                  <li>
                                      <div class="chk-content">Otro
                                          <input name="Sexo" type="radio" value="3"><span class="checkmark"></span>
                                      </div>
                                  </li>
                              </ul>
                          </div>
                          <div class="form-group">
                              <div class="pad-right-middle">
                                  <label>CORREO ELECTRÓNICO<span class="obligatorio">*</span></label>
                                  <input id="Correo" name="Correo" class="form-control" type="text">
                              </div>
                          </div>
                          <div class="form-group">
                              <div class="pad-right-middle">
                                  <label>CELULAR<span class="obligatorio">*</span></label>
                                  <input id="Movil" name="Movil" class="form-control" type="text">
                              </div>
                          </div>
                          <div class="form-group">
                              <label>CUÉNTANOS EN QUÉ TE PODEMOS AYUDAR</label>
                              <textarea id="Mensaje" name="Mensaje" class="form-control"></textarea>
                          </div>
                          <button id="btnInfoContacto" class="btn btn-default btn-black" type="button">ENVIAR</button>
                      </form>
                  </div>
                <div class="tab-pane fade" id="service">
                      <h3>MIS SERVICIOS</h3>
                      <h1 class="title-form">DALE UN VISTAZO A NUESTROS SERVICIOS </h1>
                      <form>
                          <div class="ver-servicios">
                              <div id="NomServicios" class="form-group">
                              </div>
                          </div>
                          <div class="form-group">
                              <label>DESCRIPCIÓN</label>
                              <p id="DescripcionServicio"></p>
                          </div>
                          <div class="form-group">
                              <label>QUE INCLUYE</label>
                              <ul id="IncluyeServicio" class="list-counter">
                                  <li></li>
                              </ul>
                          </div>
                          <div class="form-group">
                              <label>INFORMACIÓN ADICIONAL</label>
                              <p id="InfoAdicional"></p>
                          </div>
                          <!-- TARIFARIOS -->
                          <h4 class="sub-title">TARIFARIO</h4>
                          <div class="row">
                              <div class="col col-md-12 text-center" id="Tarifarios">
                              </div>
                          </div>
                          <!-- END TARIFARIOS-->
                          <h4>INFORMACIÓN DE PAGO</h4>
                          <div class="row">
                              <div class="col col-md-12" id="MediosPagosAgregados" style="padding-bottom:15px">
                                  <a href="javascript:void(0);" class="cc-elegido hidden" data-id="0" style="padding-right: 30px"><img th:src="@{/img/money.png}" style="width: 64px;padding-bottom: 10px"></a>
                                  <a href="javascript:void(0);" class="cc-elegido hidden" data-id="1" style="padding-right: 30px"><img th:src="@{/img/mastercard.png}" style="width: 64px;padding-bottom: 10px"></a>
                                  <a href="javascript:void(0);" class="cc-elegido hidden" data-id="2" style="padding-right: 30px"><img th:src="@{/img/visa.png}" style="width: 64px;padding-bottom: 10px"></a>
                                  <a href="javascript:void(0);" class="cc-elegido hidden" data-id="3" style="padding-right: 30px"><img th:src="@{/img/amex.png}" style="width: 64px;padding-bottom: 10px"></a>
                                  <a href="javascript:void(0);" class="cc-elegido hidden" data-id="4" style="padding-right: 30px"><img th:src="@{/img/diners-club.png}" style="width: 64px;padding-bottom: 10px"></a>
                                  <a href="javascript:void(0);" class="cc-elegido hidden" data-id="5" style="padding-right: 30px"><img th:src="@{/img/discover.png}" style="padding-bottom: 10px"></a>
                              </div>
                          </div>
                          <div class="form-group" id="CuentaBanco">

                          </div>
                          <div class="form-group hidden" id="divNotaFinal">
                              <label>Nota</label>
                              <p id="NotaFinal"></p>
                          </div>
                          <button id="btnElegir" class="btn btn-default btn-black" type="button">INSCRÍBETE</button>
                      </form>
                  </div>
              </div>
            </div>
          </div>
        </div>
      </section>
    </div>
    <!-- MODALS -->
    <div class="modal fade slide in" id="myModal">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-body" style="padding: 0px !important">
                    <!--CAROUSEL CODE GOES HERE-->
                    <!--begin carousel-->
                    <div id="myGallery" class="carousel slide" data-interval="false">
                        <ol class="carousel-indicators">
                        </ol>
                        <div class="carousel-inner text-center">

                        </div>
                        <!--end carousel-inner-->
                        <!--Begin Previous and Next buttons-->
                        <a class="left carousel-control" href="#myGallery" role="button" data-slide="prev"> <span class="glyphicon glyphicon-chevron-left"><i class="fa fa-chevron-left"></i></span></a> <a class="right carousel-control" href="#myGallery" role="button" data-slide="next"> <span class="glyphicon glyphicon-chevron-right"><i class="fa fa-chevron-right"></i></span></a>
                        <!--end carousel--></div>
                    <!--end modal-body--></div>
                <div class="modal-footer mod-term-cond" title="Cerrar" style="float:right;background: transparent;text-align: center;cursor:pointer;border:none" data-dismiss="modal">
                    <span class="" style="color: white;font-size: 1.4em;">Cerrar<i style="font-size: 1.2em !important;" class="fa-fw fa fa-close"></i></span>
                </div>
                <!--end modal-content--></div>
            <!--end modal-dialoge--></div>
        <!--end myModal-->></div>
    <div class="modal fade" tabindex="-1" role="dialog" id="myModalCC">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background: #a8fa00;color: white">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><i class="fa fa-15x fa-close"></i></button>
                    <h3 class="modal-title">Cuenta Bancaria</h3>
                </div>
                <div class="modal-body" style="background: white;height: 34%;overflow-y: auto">
                    <div class="col-sm-12" id="CuentaBancariaUnica">
                        <div class="row">
                            <div class="col col-md-5 col-xs-12"><strong>Banco:</strong></div>
                            <div class="col col-md-7 col-xs-12"><span class="cc-nom-banco"></span></div></div>
                        <div class="row">
                            <div class="col col-md-5 col-xs-12"><strong>Titular de la cuenta:</strong></div>
                            <div class="col col-md-7 col-xs-12"><span class="cc-titular"></span></div></div>
                        <div class="row">
                            <div class="col col-md-5 col-xs-12"><strong>Tipo documento:</strong></div>
                            <div class="col col-md-7 col-xs-12"><span class="cc-td"></span></div></div>
                        <div class="row">
                            <div class="col col-md-5 col-xs-12"><strong>Número de documento:</strong></div>
                            <div class="col col-md-7 col-xs-12"><span class="cc-nd"></span></div></div>
                        <div class="row">
                            <div class="col col-md-5 col-xs-12"><strong>Cuenta soles: </strong></div>
                            <div class="col col-md-7 col-xs-12"><span class="cc-cs"></span></div></div>
                        <div class="row">
                            <div class="col col-md-5 col-xs-12"><strong>Cuenta dólares:</strong></div>
                            <div class="col col-md-7 col-xs-12"><span class="cc-cd"></span></div></div>
                        <div class="row">
                            <div class="col col-md-5 col-xs-12"><strong>Interbancario soles:</strong></div>
                            <div class="col col-md-7 col-xs-12"><span class="cc-cis"></span></div></div>
                        <div class="row">
                            <div class="col col-md-5 col-xs-12"><strong>Interbancario dólares:</strong></div>
                            <div class="col col-md-7 col-xs-12"><span class="cc-cid"></span></div></div>
                        <input id="ModalCuentaBancoId" type="hidden"/>
                    </div>
                </div>
            </div><!-- /.modal-content -->
        </div><!-- /.modal-dialog -->
    </div>
    <footer th:replace="html-commons/p/footer :: fg-footer"></footer>
    <th:block th:insert="html-commons/p/js :: fg-js"></th:block>
    <script th:src="@{/js/hashids.min.js}+'?'+${version}"></script>
    <script async="" defer="" src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAPnQe-1f0b5KmTQXUMED0_n9-Vx3Y4ixc&amp;callback=initMap" type="text/javascript"></script>
    <script th:inline="javascript">
      let $perfil = {};
      const btnElegir = document.getElementById('btnElegir');
      const btnInfoContacto = document.getElementById('btnInfoContacto');
      const btnAprobarTrainer = document.getElementById('btnAprobarTrainer');
      const btnAbrirCajaNotificacion = document.getElementById('btnAbrirCajaNotificacion');
      const tabService = document.getElementById('service');
      const body = document.querySelector('body');
      let ccBancarias = [];


      (function () {
          btnElegir.addEventListener('click', irARegistro);
          btnInfoContacto.addEventListener('click', registrarContactoTrainer);
          tabService.addEventListener('click', clickListenerTabService);
          if(btnAprobarTrainer !== null){
              btnAprobarTrainer.addEventListener('click', aprobacionFinalTrainer);
              btnAbrirCajaNotificacion.addEventListener('click', (e)=>{
                  e.preventDefault();
                  document.getElementById('SeccionCorreccion').classList.remove('hidden');
              });
          }

          init();
      })();

      function clickListenerTabService(e) {
          const input = e.target;
          const clases = input.classList;
          if (clases.contains('cc-bancaria')) {
              const inputBancoId = document.getElementById('ModalCuentaBancoId');
              const ccId = Number(input.getAttribute('data-id'));
              inputBancoId.value = ccId;
              const d = ccBancarias.find(e => e.bancoId === ccId);
              $('#myModalCC').modal('show');
              const dC = document.getElementById('CuentaBancariaUnica');
              dC.querySelector('.cc-nom-banco').textContent = banks.find(b=>b.id===d.bancoId).nombre;
              dC.querySelector('.cc-titular').textContent = d.titular;
              dC.querySelector('.cc-td').textContent = d.titularTipoDoc;
              dC.querySelector('.cc-nd').textContent = d.titularNumDoc;
              dC.querySelector('.cc-cs').textContent = d.numeroSoles;
              dC.querySelector('.cc-cd').textContent = d.numeroDolares;
              dC.querySelector('.cc-cis').textContent = d.interbancarioSoles;
              dC.querySelector('.cc-cid').textContent = d.interbancarioDolares;
          }
      }

      function bodyClickEventListener(e){
          const input = e.target;
          const clases = input.classList;
          if(clases.contains('img-gal')){
              const galModal = document.getElementById('myModal');
              const ix = Number(input.parentElement.getAttribute('data-slide-to'));
              const all = galModal.querySelectorAll('img');
              all.forEach(v=>{
                  v.parentElement.classList.add('hidden')
              });
              all[ix].parentElement.classList.remove('hidden');
          }
      }

      function init(){
        getTrainer();
        checkFrom();
      }

      function checkFrom(){
          if(btnAprobarTrainer === null){
              document.querySelector('.rating').classList.remove('hidden');
              document.querySelector('.valoration').classList.remove('hidden');

          }else{
              document.querySelector('#btnInfoContacto').classList.add('hidden');
              document.querySelector('#btnElegir').classList.add('hidden');
              disabledForm('frm_contacto');
          }
      }

      function checkTab(){
          const tabHref = window.location.href.substring(window.location.href.indexOf("#"));
          if(!tabHref.includes('http')){
              const e = document.querySelector(`li a[href="${tabHref}"]`);
              if(e != null){
                e.click();
              }
          }
      }

      function irARegistro(){
        const hshId = getHash32Id('rf-public', $perfil.id);
        const trainerCorreo = btoa($perfil.correo).replace(/\=/g,'');
        const fichaIds = $perfil.fichaClienteIds.split("|");
        if(fichaIds.length==1){
            const id = fichaIds[0];
            if(id === "1"){
                window.location.href = _ctx + "p/ficha-inscripcion?key="+hshId+"&ml="+trainerCorreo;
            }else if(id === "2"){
                window.location.href = _ctx + "p/ficha-inscripcion/general?key="+hshId+"&ml="+trainerCorreo;
            }
        }else{

        }
      }

      function registrarContactoTrainer(){
          const $frm = document.getElementById('frm_contacto');
          const params = getFormData($($frm));
          params.sexo = document.querySelector('input[name="Sexo"]:checked').value;
          params.correoTrainer = $perfil.correo;
          const trainerId = $perfil.id;
          $.ajax({
              type: 'POST',
              contentType: "application/x-www-form-urlencoded; charset=UTF-8",
              url: _ctx + 'p/contacto/trainer/registrar/'+trainerId,
              dataType: "json",
              data: params,
              blockLoading: true,
              success: function (data, textStatus) {
                  if (textStatus == "success") {
                      reqSuccess(data);
                  }
              },
              error: function (xhr) {
                  exception(xhr);
              },
              complete: function () {
              }
          });
      }

      function aprobacionFinalTrainer(e){
          e.preventDefault();
          const hshId = document.getElementById('HshTrainerId').value;
          const correo = $perfil.correo;
          $.ajax({
              type: 'POST',
              contentType: "application/x-www-form-urlencoded; charset=UTF-8",
              url: _ctx + 'p/trainer/ultima-aprobacion/'+hshId+'/'+correo,
              dataType: "json",
              blockLoading: true,
              success: function (data, textStatus) {
                  if (textStatus == "success") {
                      reqSuccess(data);
                      document.querySelector('.div-aprobacion').classList.add('hidden');
                  }
              },
              error: function (xhr) {
                  exception(xhr);
              },
              complete: function () {
              }
          });
      }

      function enviarInfoACorregir(){
          const obj = {};
          const hshTrainerId = document.getElementById('HshTrainerId').value;
          obj.hshTrainerId = hshTrainerId;
          obj.correo = $perfil.correo;
          obj.obs = document.getElementById('Obs').value;

          $.ajax({
              type: 'GET',
              url: _ctx + 'p/trainer/perfil/observaciones',
              dataType: "json",
              data: obj,
              blockLoading: true,
              success: function (data, textStatus) {
                  if (textStatus == "success") {
                      reqSuccess(data);
                      document.querySelector('.div-aprobacion').classList.add('hidden');
                  }
              },
              error: function (xhr) {
                  exception(xhr);
              },
              complete: function () {
              }
          });
      }

      function getTrainer(){
        const urlArr = window.location.href.split("/");
        const nomPag = urlArr[urlArr.length-1];
        let extraPath = urlArr.some(p=>p==="ver" || p==="revision" ) ? 'sec/':'';
        $.ajax({
          type: 'GET',
          url: _ctx + 'p/trainer/get/'+extraPath+nomPag,
          dataType: 'json',
          blockLoading: false,
          success: function (res) {
            $perfil = res;
            recrearPerfil(res);
            checkTab();
          }, error: (xhr) => {
             if(xhr.status == 404){
                 window.location.href = _ctx+"p/recurso-no-encontrado";
             }
             exception(xhr);
          }, complete: () => {
          }
        })
      }

      function recrearPerfil(t){
        document.querySelector('#NombreFull').textContent = t.nombreCompleto;
        document.querySelector('#Especialidad').textContent = t.especialidad;
        document.querySelector('#Disciplina').textContent = t.disciplina;
        document.querySelector('#ImagenPerfil img').src = 'https://s3-us-west-2.amazonaws.com/rf-profile-imgs/trainer/'+t.id+"/"+t.rutaWebImg;
        document.querySelector('#Acerca').innerHTML = t.acerca.replace(/\r?\n/g, '<br />');

        let idiomas = t.idiomas.split("|");
        document.querySelector('#Idiomas').appendChild(htmlStringToElement('<ul class="list-description">'+idiomas.map(e=>`<li><p>${e}</p></li>`).join('')+'</ul>'));
        let est = document.querySelector('#Estudios');
        reconstruirLista(est, t.estudios);
        document.querySelector('#MetodoTrabajo').innerHTML = t.metodoTrabajo.replace(/\r?\n/g, '<br />');
        document.querySelector('#CentroTrabajo').innerHTML = t.centroTrabajo;
        let exp = document.querySelector('#Experiencias');
        reconstruirLista(exp, t.experiencias);
        let res = document.querySelector('#Resultados');
        reconstruirLista(res, t.resultados);
        let nvl = document.querySelector('#Niveles')
        reconstruirLista(nvl, t.niveles);
        let espc = document.querySelector('#Especialidades');
        reconstruirLista(espc, t.especialidades);
        let frmt = document.querySelector('#FormasTrabajo');
        reconstruirLista(frmt, t.formasTrabajo);
        if(t.horario){
            document.querySelector('#Horario').textContent = t.horario;
        }else{
            document.querySelector('#dvHorario').classList.add('hidden');
        }
        reconstruirServicios(t.servicios, t.adicionalInfo != undefined ? t.adicionalInfo : "Ninguna");
        //reconstruirCuentaBanco(t.cuentas);
        reconstruirTarifario(JSON.parse(t.servicios)[0].tarifarios);
        mostrarMediosPago(t.mediosPago, t.cuentas);
        const baseSrc = 'https://s3-us-west-2.amazonaws.com/rf-profile-imgs/trainer/'+t.id+"/";
        if(t.miniGaleria != null && t.miniGaleria.trim().length>0){
            document.getElementById('lblGaleriaFotos').classList.remove('hidden');
            poblarCarusel(t.miniGaleria.split("|"), 'ImgsGaleria', baseSrc);
        }

        if(t.mapCoordenadas != null && t.mapCoordenadas.trim().length>0){
            document.getElementById('lblRangoMapa').classList.remove('hidden');
            setTimeout(() => {
                const allCord = t.mapCoordenadas.split(",");
                const lat = Number(allCord[0].substr(1));
                const lng = Number(allCord[1].slice(0, -1));
                new google.maps.Circle({
                    strokeColor: '#57ff0e',
                    strokeOpacity: 0.8,
                    strokeWeight: 2,
                    fillColor: '#8ee2ff',
                    fillOpacity: 0.35,
                    map: map,
                    center: {lat: lat, lng: lng},
                    radius: Number(t.mapCircleRadio)
                });
                map.panTo(new google.maps.LatLng(lat, lng));
            }, 1000);
        }

        //Redes
        if(t.redes != undefined && t.redes.length > 4){
            const existsFb = t.redes.includes('fb:');
            if(existsFb){
                const r = document.querySelector('#RsFb');
                r.classList.remove('hidden');
                const pre = t.redes.slice(t.redes.indexOf("fb:")+3);
                const f = pre.includes("|") ? pre.slice(0, pre.indexOf("|")) : pre;
                r.querySelector('a').href = f;
                r.querySelector('a').textContent = f;
            }
            const existsIn = t.redes.includes('in:');
            if(existsIn){
                const r = document.querySelector('#RsIn');
                r.classList.remove('hidden');
                const pre = t.redes.slice(t.redes.indexOf("in:")+3);
                const f = pre.includes("|") ? pre.slice(0, pre.indexOf("|")) : pre;
                r.querySelector('a').href = f;
                r.querySelector('a').textContent = f;
            }
            const existsYo = t.redes.includes('yo:');
            if(existsYo){
                const r = document.querySelector('#RsYo');
                r.classList.remove('hidden');
                const pre = t.redes.slice(t.redes.indexOf("yo:")+3);
                const f = pre.includes("|") ? pre.slice(0, pre.indexOf("|")) : pre;
                r.querySelector('a').href = f;
                r.querySelector('a').textContent = f;
            }
            document.getElementById('lblRedes').classList.remove('hidden');
        }

          if(flag_form_populate){
              document.querySelector('#Nombre').value = t.nombreCompleto;
              document.querySelector('#Correo').value = t.correo;
              document.querySelector('#Movil').value = "987654321";
              document.querySelector('#Mensaje').value = "Aloha";
          }
          const obs = document.getElementById('Obs');
          if(obs != undefined){
              obs.value = "Demostración";
          }

          if(t.nota){
              document.getElementById('divNotaFinal').classList.remove('hidden');
              document.getElementById('NotaFinal').innerHTML =  t.nota.replace(/\r?\n/g, '<br />');
          }
      }
      function reconstruirLista(e, stringArr){
          stringArr.split("|").forEach(v => e.appendChild(htmlStringToElement(`<li><p>${v.trim()}</p></li>`)));
      }

      function reconstruirServicios(ser, infAd){
          const servicios = JSON.parse(ser);
          const dvServicios = document.getElementById('NomServicios');
          dvServicios.innerHTML = servicios.map((e) => `<label>${e.nombre}</label>`).join('');
          dvServicios.firstElementChild.classList.add('rf-color');
          const fSs = servicios[0];
          document.getElementById('DescripcionServicio').innerHTML =  fSs.descripcion.replace(/\r?\n/g, '<br />');
          const dvIncServicio = document.getElementById('IncluyeServicio');
          dvIncServicio.innerHTML = fSs.incluye.split("|").map((e) => `<li>${e}</li>`).join('');
          document.getElementById('InfoAdicional').innerHTML = infAd.replace(/\r?\n/g, '<br />');
      }

      function reconstruirCuentaBanco(cuentas){
          cuentas = JSON.parse(cuentas);
          if(cuentas.length>0){
              const pc = cuentas[0];
              document.getElementById('CuentaBanco').appendChild(htmlStringToElement(`<table class="table">
                                      <thead>
                                      <tr>
                                          <th>MONEDA</th>
                                          <th>CUENTA AHORROS</th>
                                          <th>CÓDIGO INTERBANCARIO</th>
                                      </tr>
                                      </thead>
                                      <tbody>
                                      <tr>
                                          <td><strong>Soles</strong></td>
                                          <td><strong>${pc.numeroSoles}</strong></td>
                                          <td><strong>${pc.interbancarioSoles}</strong></td>
                                      </tr>
                                      <tr>
                                          <td><strong>Dólares</strong></td>
                                          <td><strong>${pc.numeroDolares}</strong></td>
                                          <td><strong>${pc.interbancarioDolares}</strong></td>
                                      </tr>
                                      <tr>
                                          <td><strong>Títular</strong></td>
                                          <td>${pc.titular}</td>
                                          <td></td>
                                      </tr>
                                      <tr>
                                          <td><strong>Banco</strong></td>
                                          <td>${banks.find(e=>e.id==pc.bancoId).nombre}</td>
                                          <td></td>
                                      </tr>
                                      <tr>
                                          <td><strong>${pc.titularTipoDoc}</strong></td>
                                          <td>${pc.titularNumDoc}</td>
                                          <td></td>
                                      </tr>
                                      </tbody>
                                  </table>
          `));
          }
      }

      function reconstruirTarifario(tarifas){
          tarifas.forEach((t)=>document.getElementById('Tarifarios').appendChild(htmlStringToElement(`
                            <div class="col-md-2 col-xs-3 mg-bt-10" data-id="${t.id}">
                                <a href="javascript:void(0)" class="tarifa-svc">
                                    <img class="tarifa-svc" src="${_ctx}img/purchase.png" style="width:64px"/>
                                    <h6>${t.nombre}</h6>
                                </a>
                            </div>`)));
      }

      function mostrarMediosPago(mediosPago, cuentas){
        const ccs = mediosPago.split("|");
        ccs.forEach(id=>{
            tabService.querySelector('.cc-elegido[data-id="'+id+'"]').classList.remove('hidden');
        })

        if(cuentas != undefined){
            cuentas = JSON.parse(cuentas);
            ccBancarias = cuentas;
            const mePagos = document.getElementById('MediosPagosAgregados');
            cuentas.forEach(c=>{
                mePagos.appendChild(htmlStringToElement(`<a href="javascript:void(0);" data-id="${c.bancoId}" style="padding-right: 30px"><img class="cc-bancaria" data-id="${c.bancoId}" src="${_ctx}img/bill.png" style="width: 64px;"></a>`));
            });
        }
      }
    </script>
  </body>
</html>
